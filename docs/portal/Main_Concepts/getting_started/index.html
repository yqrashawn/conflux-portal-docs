<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Getting Started | ConfluxPortal Developer</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="ConfluxPortal Developer"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="To develop for ConfluxPortal, you&#x27;re first going to want to get ConfluxPortal"><meta data-react-helmet="true" property="og:description" content="To develop for ConfluxPortal, you&#x27;re first going to want to get ConfluxPortal"><meta data-react-helmet="true" property="og:url" content="https://conflux-chain.github.io/conflux-portal-docs//conflux-portal-docs/docs/portal/Main_Concepts/getting_started">

<link data-react-helmet="true" rel="shortcut icon" href="/conflux-portal-docs/img/favicon.ico">


<link rel="stylesheet" href="/conflux-portal-docs/styles.86f508d4.css">


<link rel="preload" href="/conflux-portal-docs/styles.89f76fec.js" as="script">

<link rel="preload" href="/conflux-portal-docs/runtime~main.6f4fa0b5.js" as="script">

<link rel="preload" href="/conflux-portal-docs/main.70de0e95.js" as="script">

<link rel="preload" href="/conflux-portal-docs/1.c095c2bd.js" as="script">

<link rel="preload" href="/conflux-portal-docs/2.5f69e01c.js" as="script">

<link rel="preload" href="/conflux-portal-docs/3.e634e178.js" as="script">

<link rel="preload" href="/conflux-portal-docs/1be78505.069c22a3.js" as="script">

<link rel="preload" href="/conflux-portal-docs/26cb894d.7875e572.js" as="script">

<link rel="preload" href="/conflux-portal-docs/17896441.b2c5d670.js" as="script">

<link rel="preload" href="/conflux-portal-docs/ef653503.b4cbe83e.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/conflux-portal-docs/"><img class="navbar__logo" src="/conflux-portal-docs/img/logo.svg" alt="Conflux Logo"><strong class="navbar__title">ConfluxPortal Documentation</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/Conflux-Chain/conflux-portal">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/conflux-portal-docs/"><img class="navbar__logo" src="/conflux-portal-docs/img/logo.svg" alt="Conflux Logo"><strong class="navbar__title">ConfluxPortal Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/Conflux-Chain/conflux-portal">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/conflux-portal-docs/img/logo.svg" alt="Conflux Logo"><strong>ConfluxPortal Documentation</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="#!">ConfluxPortal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/introduction">What Is ConfluxPortal</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Main Concepts</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/conflux-portal-docs/docs/portal/Main_Concepts/getting_started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/Main_Concepts/common_terms">Common Terms</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/Main_Concepts/initializing_dapps">Initializing Dapps</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/Main_Concepts/accessing_accounts">Accessing Accounts</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/Main_Concepts/sending_transactions">Sending Transactions</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/Examples/e2e_test_demo">A Demo Dapp We Are Using To Test ConfluxPortal</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/API_Reference/provider_api">Portal Provider API</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/API_Reference/json_rpc_api">The Conflux RPC API</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/API_Reference/experimental_api">Experimental APIs</a></li><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/API_Reference/signing_data_with_portal">Signing Data with ConfluxPortal</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/conflux-portal-docs/docs/portal/best_practices">Best Practices</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Getting Started</h1></header><div class="markdown"><p>To develop for ConfluxPortal, you&#x27;re first going to want to get ConfluxPortal
installed on your development machine. <a href="https://github.com/Conflux-Chain/conflux-portal/releases">Download
here</a>.   </p><p>Once you have it running, you should find that new browser tabs have a
<code>window.conflux</code> object available in the console. This is the way ConfluxPortal
provides for you to interact with it.  </p><p>You can review the full API for that object <a href="/conflux-portal-docs/docs/portal/API_Reference/provider_api">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="basic-considerations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#basic-considerations" title="Direct link to heading">#</a>Basic Considerations</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="confluxjs-browser-detection"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#confluxjs-browser-detection" title="Direct link to heading">#</a>ConfluxJS Browser Detection</h3><p>The first thing your app will want to do is verify whether the user is using
ConfluxPortal or not, which is simple using a check like <code>if (typeof
window.conflux !== &#x27;undefined&#x27;) { /* deal with it */ }</code>. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="running-a-test-network"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#running-a-test-network" title="Direct link to heading">#</a>Running a Test Network</h3><p>In the top right menu of ConfluxPortal, you can select the network that you are
currently connected to. Among several popular defaults, you&#x27;ll find <code>Custom RPC</code>
and <code>Localhost 12539</code>. These are both useful for connecting to a test
blockchain, like <a href="https://github.com/yqrashawn/conflux-local-network-lite#readme">conflux local network
lite</a>, which you
can quickly install and start if you have <code>npm</code> installed with <code>npm i -g
ganache-cli &amp;&amp; ganache-cli</code>. </p><p>Since your seed phrase is the power to control all your accounts, it is probably
worth keeping at least one seed phrase for development, separate from any that
you use for storing real value. One easy way to manage multiple seed phrases
with ConfluxPortal is with multiple browser profiles, each of which can have
its own clean extension installations.  </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="resetting-your-local-nonce-calculation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resetting-your-local-nonce-calculation" title="Direct link to heading">#</a>Resetting Your Local Nonce Calculation</h4><p>If you&#x27;re running a test blockchain, and then restart it, you can accidentally
confuse ConfluxPortal, because it calculates the next
<a href="/conflux-portal-docs/docs/portal/Main_Concepts/sending_transactions#nonce-%5Bignored%5D">nonce</a> based on both the network
state <em>and</em> the known sent transactions.  </p><p>To clear ConfluxPortal&#x27;s transaction queue, and effectively reset its nonce
calculation, you can use the <code>Reset Account</code> button in <code>Settings</code> (available in
the top-right sandwich menu). </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="detecting-confluxportal"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#detecting-confluxportal" title="Direct link to heading">#</a>Detecting ConfluxPortal</h3><p>If you want to differentiate ConfluxPortal from other conflux-compatible
browsers, you can detect ConfluxPortal using <code>conflux.isConfluxPortal</code>. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="user-state"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#user-state" title="Direct link to heading">#</a>User State</h3><p>Currently there are a few stateful things you want to consider when interacting
with this API:</p><ul><li>What is the current network?</li><li>What is the current account?</li></ul><p>Both of these are available synchronously as <code>conflux.networkVersion</code> and
<code>conflux.selectedAddress</code>. You can listen for changes using events too, see
(<a href="/conflux-portal-docs/docs/portal/API_Reference/provider_api">the API reference</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="connecting-to-confluxportal"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#connecting-to-confluxportal" title="Direct link to heading">#</a>Connecting to ConfluxPortal</h3><p>&quot;Connecting&quot; or &quot;logging in&quot; to ConfluxPortal effectively means &quot;to access the
user&#x27;s Conflux account(s)&quot;.</p><p>You should <strong>only</strong> initiate a connection request in response to direct user
action, such as clicking a button. You should <strong>never</strong> initiate a connection
request on page load.  </p><p>We recommend that you provide a button to allow the user to connect Conflux
Portal to your dapp. Clicking this button should call the following method:  </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-javascript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">enable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></code></pre></div><p>This promise-returning function resolves with an array of hex-prefixed conflux
addresses, which can be used as general account references when sending
transactions.  </p><p>Over time, this method is intended to grow to include various additional
parameters to help your site request all the setup it needs from the user during
setup.  </p><p>Since it returns a promise, if you&#x27;re in an <code>async</code> function, you may log in
like this:  </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-javascript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> accounts </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> conflux</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">enable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> account </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> accounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// We currently only ever provide a single account,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// but the array gives us some room to grow.</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="choosing-a-convenience-library"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#choosing-a-convenience-library" title="Direct link to heading">#</a>Choosing a Convenience Library</h2><p>Convenience libraries exist for a variety of reasons.</p><p>Some of them simplify the creation of specific user interface elements, some
entirely manage the user account onboarding, and others give you a variety of
methods of interacting with smart contracts, for a variety of API preferences,
from promises, to callbacks, to strong types, and on.  </p><p>The provider API itself is very simple, and wraps <a href="https://conflux-chain.github.io/conflux-doc/json-rpc/">Conflux
JSON-RPC</a> formatted
messages, which is why developers usually use a convenience library for
interacting with the provider, like
<a href="https://www.npmjs.com/package/js-conflux-sdk">js-conflux-sdk</a>,
<a href="https://github.com/liuis/conffle#readme">conffle</a>, or others. From those tools,
you can generally find sufficient documentation to interact with the provider,
without reading this lower-level API. </p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Conflux-Chain/conflux-portal-docs/edit/master/docs/en/portal/Main_Concepts/Getting_Started.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-04-23T07:23:30.000Z" class="docLastUpdatedAt_1sqk">4/23/2020</time> by <strong>yqrashawn</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/conflux-portal-docs/docs/portal/introduction"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« What Is ConfluxPortal</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/conflux-portal-docs/docs/portal/Main_Concepts/common_terms"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Common Terms »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#basic-considerations" class="contents__link">Basic Considerations</a><ul><li><a href="#confluxjs-browser-detection" class="contents__link">ConfluxJS Browser Detection</a></li><li><a href="#running-a-test-network" class="contents__link">Running a Test Network</a></li><li><a href="#detecting-confluxportal" class="contents__link">Detecting ConfluxPortal</a></li><li><a href="#user-state" class="contents__link">User State</a></li><li><a href="#connecting-to-confluxportal" class="contents__link">Connecting to ConfluxPortal</a></li></ul></li><li><a href="#choosing-a-convenience-library" class="contents__link">Choosing a Convenience Library</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/conflux-portal-docs/docs/portal/introduction">Introduction</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/conflux-portal-docs/docs/portal/Main_Concepts/getting_started">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://bounty.conflux-chain.org/">Conflux Bounty</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/Conflux-Chain/conflux-portal/issues">Issues</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/Conflux-Chain/conflux-portal">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/Conflux_Network">Twitter</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Conflux Network, Inc. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/conflux-portal-docs/styles.89f76fec.js"></script>

<script src="/conflux-portal-docs/runtime~main.6f4fa0b5.js"></script>

<script src="/conflux-portal-docs/main.70de0e95.js"></script>

<script src="/conflux-portal-docs/1.c095c2bd.js"></script>

<script src="/conflux-portal-docs/2.5f69e01c.js"></script>

<script src="/conflux-portal-docs/3.e634e178.js"></script>

<script src="/conflux-portal-docs/1be78505.069c22a3.js"></script>

<script src="/conflux-portal-docs/26cb894d.7875e572.js"></script>

<script src="/conflux-portal-docs/17896441.b2c5d670.js"></script>

<script src="/conflux-portal-docs/ef653503.b4cbe83e.js"></script>


</body>
</html>